name: "Post to Bluesky"

on: workflow_dispatch

jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - uses: denoland/setup-deno@main
        with:
          deno-version: v1.x
      - uses: actions/checkout@main
      - name: Send CS post
        env:
          BSKY_HANDLE: ${{ secrets.BSKY_HANDLE_CS }}
          BSKY_PASSWORD: ${{ secrets.BSKY_PASSWORD_CS }}
        run: deno run --allow-env --allow-net main.ts
